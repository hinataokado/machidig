<!doctype html>
<html lang="ja">
<html>

<head>
  <meta charset="UTF-8">
  <title> machi-dig / CONTACT </title>
</head>

<body>

  <body background="go.jpg">
  </body>
  <div class="menu-container"></div>
  <input type="checkbox" id="menu-toggle">
  <nav class="menu">
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="about.html">About</a></li>
      <li>Gallery</li>
      <ul>
        <li><a href="galleryAll.html">All</a></li>
        <li><a href="galleryCountry.html">Country</a></li>
        <li><a href="galleryCategory.html">Category</a></li>
      </ul>
      <li><a href="contact.html">Contact</a></li>
    </ul>
  </nav>
  <label for="menu-toggle" class="menu-button">
    <div class="menu-buttonimg">
      <img src="stop.jpg">
    </div>
  </label>
  </div>

  <h1>CONTACT（改装中/ under construction）</h1>
  <p>
  <div class="contact">
    <form action="" method="post">
      <div class="item">
        <label for="name">お名前/name：</label>
        <input id="name" type="text" name="name" placeholder="name" required>
      </div>

      <div class="item">
        <label for="mail">メールアドレス/email：</label>
        <input id="mail" type="email" name="email" placeholder="email" required>
      </div>

      <div class="itemtext">
        <label for="comment">お問い合わせ内容/comment：</label><br>
        <textarea id="comment" rows="10" cols="30" placeholder="type your comment"></textarea>
      </div>

      <div class="btn-area">
        <input type="submit" value="送信/submit">
      </div>

    </form>
  </div>

  <script>
    const form = document.querySelector(".form");
    console.log(form)

    form.addEventListener("submit", (e) => {           //submitを押したときに発動
      e.preventDefault();                         //form要素で送信先が未指定の時デフォで現在のURLに送信するのを防ぐ
      alert('送信完了/successfully submit')
      const data = new FormData(form);             //newでformをインスタンス化(コピー)
      console.log(data);
      for (c of data) {
        //console.log(c);                       //forでまとめて入力内容を取得しても入力項目ごとに配列で分けられる。
        console.log(c[0], c[1]);                 //キーと値を別々に取り出せる
      }

      //fetch（外部からデータをもらう関数）のpost機能で送信
      fetch("URL", {
        method: "POST",
        body: data,                                //送信する内容
        headers: {                                  //送信する内容の種類を伝える
          "Content-Type": "application/json",
        },
      })
        .then((res) => res.json())
        .then((res) => console.log(res));
    });                             
  </script>
  </p>
  <p>
    &copy;machi-dig, 2024
  </p>
  <link rel="stylesheet" href="mojicommon.css">
  <link rel="stylesheet" href="imgscommon.css">
  <link rel="stylesheet" href="menu.css">
</body>
<style>
  .contact {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .item {
    text-align: left;
  }

  .itemtext {
    text-align: center;
  }
</style>

</html>